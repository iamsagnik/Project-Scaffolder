async function realistic(ctx = {}) {
  const name = ctx.projectName || "Microservices Backend";
  const content = `# ${name}

This repository contains a production-ready microservices backend architecture built with Node.js, TypeScript, Docker, and Kubernetes.

## Features
- API Gateway (Express)
- Independent services: Users, Orders
- Shared workspace for common modules
- Event-driven communication (event-bus)
- CI/CD ready (GitHub Actions)
- Kubernetes manifests included

## Requirements
- Node.js >= 18
- Docker & Docker Compose
- kubectl, k3d/minikube for local cluster

## Getting Started
\`\`\`bash
npm install
docker-compose up --build
\`\`\`

${name} scaffold generated by your Project Scaffolder.
`;
  return { type: "single", content };
}

async function minimal(ctx = {}) {
  const name = ctx.projectName || "Microservices Project";
  const content = `# ${name}

Node.js microservices starter generated by Project Scaffolder.`;
  return { type: "single", content };
}

async function enterprise(ctx = {}) {
  const name = ctx.projectName || "Enterprise Microservices Backend";
  const content = `# ${name}

Enterprise-grade microservices backend with:

- Centralized logging
- Distributed tracing (OpenTelemetry-ready)
- Security hardening (rate limit, CORS, helmet)
- Structured CI/CD pipeline
- HA-ready Kubernetes manifests
- Automated code quality checks

Refer to /infra/k8s for production deployment setup.
`;
  return { type: "single", content };
}

/* Template-specific variant: "enterprise-skeleton" */
async function enterpriseSkeleton(ctx = {}) {
  const name = ctx.projectName || "Enterprise Microservices (Skeleton)";
  const content = `# ${name}

Opinionated enterprise skeleton:
- preconfigured monorepo layout (workspaces)
- standardized logging and telemetry
- production-ready k8s manifests in /infra/k8s
- GitHub Actions workflows for build/test/deploy

See docs/ for deployment notes.
`;
  return { type: "single", content };
}

async function defaultVariant(ctx = {}) {
  return realistic(ctx);
}

module.exports = {
  realistic,
  minimal,
  enterprise,
  "enterprise-skeleton": enterpriseSkeleton,
  default: defaultVariant,
};
